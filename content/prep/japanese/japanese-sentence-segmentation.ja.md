---
title: "æ—¥æœ¬èªæ–‡ã‚’å®‰å…¨ã«åˆ†å‰²ã™ã‚‹"
pre: "3.7.10 "
weight: 10
title_suffix: "å¥ç‚¹ãƒ»æ„Ÿå˜†ç¬¦ãƒ»æ‹¬å¼§ã‚’è€ƒæ…®ã—ãŸãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹åˆ†å‰²"
---

å¥ç‚¹ãŒçœç•¥ã•ã‚ŒãŸæ–‡ç« ã‚„çµµæ–‡å­—ã‚’å«ã‚€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ‰±ã†ã¨ãã€å˜ç´”ãª `text.split("ã€‚")` ã§ã¯æ–‡ã®å¢ƒç•ŒãŒãšã‚ŒãŒã¡ã§ã™ã€‚å¥ç‚¹ãƒ»ç–‘å•ç¬¦ãƒ»æ‹¬å¼§ã®ãƒšã‚¢ã‚’æ„è­˜ã—ãŸãƒ«ãƒ¼ãƒ«ã§åˆ†å‰²ã™ã‚‹ã¨å®‰å®šã—ã¾ã™ã€‚

```python
import re

SENTENCE_END = re.compile(r"([ã€‚ï¼ï¼Ÿ!?]+)(?=[^\\)ã€ã€ã€‘ã€‹â€ã€ã€ã€‘ã€‹ã€]|\Z)")

def split_sentences(text: str) -> list[str]:
    parts = []
    start = 0
    for match in SENTENCE_END.finditer(text):
        end = match.end()
        sentence = text[start:end].strip()
        if sentence:
            parts.append(sentence)
        start = end
    tail = text[start:].strip()
    if tail:
        parts.append(tail)
    return parts


sample = "ä»Šæ—¥ã¯æ‰“ã¡åˆã‚ã›ï¼(æœ¬å½“ã«ï¼Ÿ)æ°—ã‚’ä»˜ã‘ã¦ã­â€¦ã€‚äº†è§£ã—ã¾ã—ãŸğŸ‘"
for i, sentence in enumerate(split_sentences(sample), start=1):
    print(i, sentence)
```

### é‹ç”¨ã®ãƒã‚¤ãƒ³ãƒˆ
- æ‹¬å¼§å†…ã®ç–‘å•ç¬¦ã§åˆ†å‰²ã—ãŸããªã„å ´åˆã¯ã€`SENTENCE_END` ã®é™¤å¤–æ–‡å­—ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã—ã¦èª¿æ•´ã—ã¾ã™ã€‚
- Slack ãªã©ã§è¦‹ã‹ã‘ã‚‹æ”¹è¡Œã‚’ä¼´ã‚ãªã„é•·æ–‡ã«ã¯ã€å¥ç‚¹ãŒç„¡ãã¦ã‚‚ 20ã€œ30 æ–‡å­—ã”ã¨ã«å¼·åˆ¶çš„ã«åˆ†å‰²ã™ã‚‹ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ç”¨æ„ã™ã‚‹ã¨èª­ã¿ã‚„ã™ããªã‚Šã¾ã™ã€‚
- é«˜ç²¾åº¦ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹å ´åˆã¯ã€æ—¥æœ¬èªã«å¯¾å¿œã—ãŸæ–‡åˆ†å‰²ãƒ¢ãƒ‡ãƒ«ï¼ˆKUROSHIOã€spaCy ja_ginza ã® `senter` ãªã©ï¼‰ã‚’é¸å®šã—ã€ä»Šå›ã®ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹åˆ†å‰²ã‚’ç°¡æ˜“ç‰ˆã¨ã—ã¦ä½µç”¨ã™ã‚‹ã®ãŒãŠã™ã™ã‚ã§ã™ã€‚
